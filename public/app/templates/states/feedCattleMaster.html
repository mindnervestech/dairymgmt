<style>
.Color {
	color: green
}

.redColor {
	color: red
}

.btn-success-custom {
	color: white;
	background-color: #21205f;
}

.btn-success-custom:hover {
	color: white;
	background-color: #999999;
}
</style>

<!-- <script type="text/javascript">
function isChar(evt) {
    evt = (evt) ? evt : window.event;
    var charCode = (evt.which) ? evt.which : evt.keyCode;
    if (charCode > 31 && (charCode < 65 || charCode > 90) && (charCode < 97 || charCode > 122)) {
        return false;
    }
    return true;
}
</script> -->
 
<script type="text/javascript">
function isNumber(evt) {
    evt = (evt) ? evt : window.event;
    var charCode = (evt.which) ? evt.which : evt.keyCode;
    if (charCode > 31 && (charCode < 48 || charCode > 57)) {
        return false;
    }
    return true;
}
</script>

<div class="row">
	<div class="col-lg-12">
		<div class="portlet box" style="min-height: 500px;">
			<div class="portlet-header">
				<div class="caption">All Feed Cattle Master</div>
			</div>
			<div class="portlet-body" ng-init="init();" style="overflow-x: auto;">
			<!-- 	<span ng-if="add == true" style="color:green;">Record Added Successfully.</span>
			<span ng-if="update == true" style="color:green;">Record Updated  Successfully.</span> -->
			<span flash-message="5000"  style="float:right;width:40%;" ></span> 
			
				<div class="row mbm">
					<div class="col-lg-12">
						<!-- {{jobs}} -->
						<div>
							 <div class="pull-left">
								<span>
									<button class="btn btn-success-custom" data-toggle="tooltip"
			
										data-placement="bottom" title="Add new  feed Cattle"
										ng-click="addnewfeedCattle();" ng-if="cattleFeedMaster == true">Add </button>
								</span>

							</div>
							<!-- <div class="pull-right">
								<label>Active Users:</label>&nbsp;&nbsp; <small><strong>{{activeusercount}}</strong></small>
							</div> -->
						</div>
						<div class="pull-right"></div>
						
						<div ng-init="getAllFeedCattleMaster()" class="table-responsive">
							<div class="page-header">
								<table id="table_id"
									class="table table-hover table-striped table-bordered table-advanced tablesorter display">
									<tbody>
										<tr>
											<th>Feed Id</th>
											<!-- <th>Feed Name</th>
											<th>Feed Type</th>
											<th>Meal Type </th>
											<th>Date of Birth</th>
											<th>Quantity</th> -->
											<th>Plan Name</th>
											<th>Plan Start Date </th>
											<th>Plan End Date</th>
											<th>Breed</th>
											<th>SubBreed</th>
											<th> Stage</th>
											<th>MealType</th>
											
											
										<!-- 	<th>SKUId</th> -->
											<!--  <th>Last Update Date Time</th>-->
											<th>Details</th>
										</tr>
										<tr data-ng-repeat="cat in feedcaters"
											style="background-color: #fff !important; left: -900">
											<td ng-click="" data-toggle="tooltip" data-placement="bottom"
												title="Send to mail to user"><a
												href="mailto:{{user.email}}">{{cat.feedId}}</a></td>
											<!-- <td ng-click="">{{cat.feedName}}</td>
											<td ng-click="">{{cat.feedType}}</td>
											<td ng-click="">{{cat.MealType}}</td> -->
											<!-- <td>{{cat.dateofBirth | date:'yyyy-MM-dd HH:mm:ss '}}</td>
											 -->
											 <!-- <td ng-click="">{{cat.quantity}}</td> -->	
											 
											<td ng-click="">{{cat.feedPlanName}}</td>
											<td ng-click="">{{cat.feedPlanStartDateVM}}</td>
											<td ng-click="">{{cat.feedPlanEndDateVM}}</td>
											<td ng-click="">{{cat.Breed}}</td>
											<td ng-click="">{{cat.SubBreed}}</td>
											<td ng-click="">{{cat.Stage}}</td>
											<td ng-click="">{{cat.MealType}}</td>
											
											<!-- <td ng-click="">{{cat.SKUId}}</td> -->
											<!--  <td> {{cat.lastUpdateDateTime | date:'yyyy-MM-dd HH:mm:ss '}}</td> -->
											<td><button class="btn btn-success-custom"
													ng-click="editfeedCatdersDetails(cat);" data-toggle="tooltip"
													data-placement="bottom" title="View Feed Caters  details">
													<i data-toggle="modal" class="glyphicon glyphicon-eye-open"></i>
											    </button>
											</td>
										</tr>
									</tbody>
								</table>
							</div>
							 <div class="pull-right">
								<button id="pre" type="button" ng-click="clickPre()"
									class="btn btn-success-custom">
									<i class="glyphicon glyphicon-arrow-left"></i>
								</button>
								&nbsp;
								<button id="next" type="button" ng-click="clickNext()"
									class="btn btn-success-custom">
									<i class="glyphicon glyphicon-arrow-right"></i>
								</button>
							</div> 
						</div>
					</div>

				</div>
			</div>
		</div>
	</div>
	
</div>

<!-- Modal Edit user details-->
<div class="modal fade" id="editfeedCatdersDetails" tabindex="-1" role="dialog"
	aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal"
					aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
				<h4 class="modal-title" id="myModalLabel">Edit Feed Cattle Master</h4>
			</div>
			<div class="modal-body">
			<span ng-if = "emptyFieldsError == true"><code> Please fill all fields!!!</code></span>
			
				<div class = "col-md-12	">
				<div class = "col-md-6	">
						<span ng-if = "feedPlanNameDup == true"> <code>Feed Plan name is present please use another one!!</code></span>
							 
							<div class="col-md-12" style = "margin-top: 5%;">
  							<label for="usr">Feed Plan Name</label>
  							<input type="text" ng-model = "cat.feedPlanName" ng-blur="checkDuplicateFeedName(cat.feedPlanName)" class="form-control" id="Stage" >
						</div>
							
					</div>				
					</div>
				<div class = "col-md-12">
				<div class = "col-md-6"  >
				
				<div class="col-md-12" >
										<div class="">
											<div class="">
											<!--  <div ng-if="doberror == true" ><span style="color:red">Please enter DOB</span></div>-->
												<div class="input-group col-md-12" style = "margin-top: 5%;">
												<span> Feed Plan Start Date</span>
													 <input type="text" ng-model="cat.feedPlanStartDateVM"
														name="startDate" class="form-control " id="startDateNew"
														 ng-click="initStartDatepickerNew();"
														style="font-size: 12px;  width: 100%;" required>
														<!--  <div class="input-group-addon">
														<i class="fa fa-calendar"></i>
														</div>-->
												</div>
											</div>
									</div>
					      </div>
				
						<!--  <div class="col-md-12" style = "margin-top: 5%;" ng-init="findBreed()">
  							<label for="usr">Breed </label>	
							<select id = "use"  data-ng-model="cat.Breed" class= "col-md-5 form-control" style="    width: 100%;" ng-change="getsubBreedById(cat.Breed)" >
			                <option value="" disabled>--- Select ---</option>
			                <option ng-repeat="u in breeds" value="{{u.id}}"   ng-selected="u.breedName  == cat.breed">{{u.breedName}}</option>
			                </select>
						</div>-->	


						  <div class="col-md-12" style = "margin-top: 5%;" ng-init="findBreed()">
  							<div class="col-md-0" ng-init="findBreed()">
  							<label for="usr">Breed </label>
							<select id = "use"  data-ng-model="cat.Breed" class= "col-md-5 form-control"  style="    width: 100%;" ng-change="getsubBreedById(cat.Breed)" style="    width: 110%;">
			                 <option value="" disabled>--- Select ---</option>
			                 <option ng-repeat="u in breeds" value="{{u.id}}"   ng-selected="u.breedName  == cat.Breed">{{u.breedName}}</option>
			                </select>
							</div>	
						</div>
						
						
						
						 <div class="col-md-12"style = "margin-top: 5%;" >
  							<label for="usr">Stage</label>
  							<input type="text" ng-model = "cat.Stage" class="form-control" id="Stage" onkeypress="return isNumber(event)">
						</div>	
						
						
					      
					     
					      
					    					
						
						
					</div>	
					
           			<div class = "col-md-6">
           			
           			<div class="col-md-12" >
										<div class="">
											<div class="">
											<div ng-if="doberror == true" ><span style="color:red">Please enter DOB</span></div>
												<div class="input-group col-md-12" style = "margin-top: 5%;">
												<span>Feed Plan End Date</span>
													 <input type="text" ng-model="cat.feedPlanEndDateVM"
														name="dob" class="form-control " id="endDateNew"
														 ng-click="initEndDatepickerNew();"
														style="font-size: 12px;  width:   100%;" required>
														<!--  <div class="input-group-addon">
														<i class="fa fa-calendar"></i>
														</div>-->
												</div>
											</div>
									</div>
					      </div>
           				
           				<div class="col-md-12" style = "margin-top: 5%;">
  							<label for="usr">Sub Breed</label>
  							<select ng-model = "cat.SubBreed" class="form-control" id="SubBreed" ng-change="" >
								<option value="" disabled>--- Select ---</option>
								<option ng-repeat="item in subBreeds" value="{{item.sub_breed}}" style="    width: 100%;" ng-selected="item.sub_breed  == cat.SubBreed">{{item.sub_breed}}</option>
							</select>
						</div>	
						
						<div class="col-md-12" style = "margin-top: 5%;">
  							<label for="usr">Meal Type</label>
  							<select id = "use"  ng-model="cat.MealType" class= "form-control" ng-change="" style="    width: 100%;">
			                <option value="">--- Select ---</option>
			                <option value="Morning" >Morning</option>
    						<option value="Afternoon">Afternoon</option>
    						<option value="Evening">Evening</option>
			                </select>
						</div>	
					      	
           			</div>
						
						
						
						
	            	
						<div class="col-md-12">
							<div class="col-md-12" ng-repeat="feed in feeds" style = "margin-top: 5%;">
							<span> Feed Name</span>
							<select id = "feedType" data-ng-model="feeds[$index]" ng-change = "assignFeedValue(feeds[$index],$index)" style=" width:30%;">
			                <option value="" disabled>--- Select ---</option>
			                <option ng-repeat="o in mastersFeed" value="{{o}}" ng-selected="{{o.Selected == true}}">{{o.feedName}}</option>
			                </select>
							 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
							<span> Feed Type</span>
							<input type="text" class="xdTextBox" ng-model="feeds[$index].feedType"  style=" width:30%;" disabled/> 
							&nbsp;&nbsp;
							<br><br>
							<span> SKUID</span>
							&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							<input type="text" class="xdTextBox" ng-model="feeds[$index].skuId" style=" width:30%;"  disabled/>
							&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							<span> Quantity</span>
							&nbsp;&nbsp;&nbsp;
							<input type="text" class="xdTextBox" ng-model="feeds[$index].quantity" style=" width:30%;" /> &nbsp;
							
							<br><br>
							&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							
							<button ng-click="addFields(feed)" style=" &nbsp;  float: right;margin-top: 1%;">Add</button>
							<button ng-click="deleteFeed($index)" style=" &nbsp; float: right;margin-top: 1%;">Delete</button>
							<hr>
							</div>
						
						</div>
           				
										
				</div>
						<div class="form-actions">
							<div class="pull-right" style="margin-top:2%;">
								<button type="submit" ng-click="updatefeedCattleProfileByAdmin(cat);"
									class="btn btn-success-custom" ng-if= "cattleFeedMaster == true">Update</button>
								&nbsp;
								<button type="button" class="btn btn-success-custom"
									data-dismiss="modal">Close</button>
								&nbsp;
								<!-- <button type="button" class="btn btn-default">Cancel</button> -->
							</div>
				</div>
			</div>
		</div>

	</div>
</div>
<form>
<!-- Add new user model  -->
<div class="modal fade" id="addnewfeedCattle" tabindex="-1" role="dialog"
	aria-labelledby="myModalLabel" aria-hidden="true"  ng-form="myForm">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal"
					aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
				<h4 class="modal-title" id="myModalLabel">Add Feed Cattle Master</h4>
			</div>
			<div class="modal-body">
			<span ng-if = "emptyFieldsError == true"><code> Please fill all fields!!!</code></span>
				<div class = "col-md-12	">
				<div class = "col-md-6	">
						<span ng-if = "feedPlanNameDup == true"> <code>Feed Plan name is present please use another one!!</code></span>
							 
							 <div class="col-md-12" style = "margin-top: 5%;">
  							 <label for="usr">Feed Plan Name</label>
  							 <input type="text" ng-model = "cat.feedPlanName" ng-blur="checkDuplicateFeedName(cat.feedPlanName)" class="form-control" id="Stage" >
						</div>
							
					</div>				
					</div>
				<div class = "col-md-12">
				<div class = "col-md-6	">
						
						  <div class="col-md-12" >
										<div class="">
											<div class="">
											<!--  <div ng-if="doberror == true" ><span style="color:red">Please enter DOB</span></div>-->
												<div class="input-group col-md-12" style = "margin-top: 5%;">
												<span> Feed Plan Start Date</span>
													 <input type="text" ng-model="cat.feedPlanStartDateVM"
														name="startDate" class="form-control " id="startDateAddNew"
														 ng-click="initStartDatepickerNew();"
														style="font-size: 12px;  width: 100%;" required>
														<!--  <div class="input-group-addon">
														<i class="fa fa-calendar"></i>
														</div>-->
												</div>
											</div>
									</div>
					      </div>
									
						
           				
           				<div class="col-md-12" style = "margin-top: 5%;" ng-init="findBreed()">
  							<label for="usr">Breed </label>	
							<select id = "use"  data-ng-model="cat.Breed" class= "col-md-5 form-control" style="    width: 100%;" ng-change="getsubBreedById(cat.Breed)" >
			                <option value="" disabled>--- Select ---</option>
			                <option ng-repeat="u in breeds" value="{{u.id}}"   ng-selected="u.breedName  == cat.breed">{{u.breedName}}</option>
			                </select>
						</div>	
						
						 <div class="col-md-12"style = "margin-top: 5%;" >
  							<label for="usr">Stage</label>
  							<input type="text" ng-model = "cat.Stage" class="form-control" id="Stage" onkeypress="return isNumber(event)">
						</div>	
					</div>
					
					
					    
				    <div class = "col-md-6	">
				    
				    	<div class="col-md-12">
										<div class="">
											<div class="">
											<div ng-if="doberror == true" ><span style="color:red">Please enter DOB</span></div>
												<div class="input-group col-md-12" style = "margin-top: 5%;">
												<span>Feed Plan End Date</span>
													 <input type="text" ng-model="cat.feedPlanEndDateVM"
														name="dob" class="form-control " id="endDateAddNew"
														 ng-click="initEndDatepickerNew();"
														style="font-size: 12px;  width:   100%;" required>
														<!--  <div class="input-group-addon">
														<i class="fa fa-calendar"></i>
														</div>-->
												</div>
											</div>
									</div>
					      </div>	
				
	            	  
           				<div class="col-md-12" style = "margin-top: 5%;">
  							<label for="usr">Sub Breed</label>
  							<select ng-model = "cat.SubBreed" class="form-control" style="    width: 100%;" id="SubBreed" ng-change="" >
								<option value="" disabled>--- Select ---</option>
								<option ng-repeat="item in subBreeds" value="{{item.sub_breed}}">{{item.sub_breed}}</option>
							</select>
						</div>
	            		
						
						
						<div class="col-md-12" style = "margin-top: 5%;">
  							<label for="usr">Meal Type</label>
  							<select id = "use"  ng-model="cat.MealType" class= "form-control" ng-change="" style="    width: 100%;">
			                <option value="">--- Select ---</option>
			                <option value="Morning" >Morning</option>
    						<option value="Afternoon">Afternoon</option>
    						<option value="Evening">Evening</option>
			                </select>
			           </div>
			           
			           
				</div>
						<div class="col-md-12">
							<div class="col-md-12" ng-repeat="feed in feeds" style = "margin-top: 5%;">
							<span>Feed Name</span>
							<select id = "feedName" data-ng-model="feeds[$index]"  style="  width:30%;" ng-change = "assignFeedValue(feeds[$index],$index)">
			                <option value="" disabled>--- Select ---</option>
			                <option ng-repeat="o in mastersFeed" value="{{o}}" ng-selected="{{o.Selected == true}}">{{o.feedName}}</option>
			                </select>
			                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							<span> Feed Type</span>
							<input type="text" class="xdTextBox" ng-model="feeds[$index].feedType"  style=" width:30%;" disabled/> 
							&nbsp;&nbsp;
							<br><br>
							<span> SKUID</span>
							&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							<input type="text" class="xdTextBox" ng-model="feeds[$index].skuId" style=" width:30%;"  disabled/>
							&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							<span> Quantity</span>
							&nbsp;&nbsp;&nbsp;
							<input type="text" class="xdTextBox" ng-model="feeds[$index].quantity" style=" width:30%;" /> &nbsp;
							<br><br>
							&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							<button ng-click="addFields(feed)" style=" &nbsp;  float: right;margin-top: 1%;">Add</button>
							<button ng-click="deleteFeed($index)" style=" &nbsp; float: right;margin-top: 1%;">Delete</button>
							<hr>
							</div>
						
						</div>
	            	
				</div>
						<div class="form-actions">
							<div class="pull-right" style="margin-top:2%;">
								<button type="submit" ng-click="addfeedCattleProfileByAdmin(cat);"
									class="btn btn-success-custom" ng-if="cattleFeedMaster == true">Add</button>
								&nbsp;
								<button type="button" class="btn btn-success-custom"
									data-dismiss="modal">Close</button>
								&nbsp;
								<!-- <button type="button" class="btn btn-default">Cancel</button> -->
							</div>
				</div>
			</div>
		</div>

	</div>
</div>

</form>
<style type="text/css">
.modal .modal-dialog {
	width: 70%;
}

.modal .modal-body {
	max-height: 500px;
	overflow-y: auto;
}

fieldset.scheduler-border {
	border: 1px groove !important;
	padding: 0 1.4em 1.4em 1.4em !important;
	margin: 0 0 1.5em 0 !important;
	-webkit-box-shadow: 0px 0px 0px 0px #000;
	box-shadow: 0px 0px 0px 0px #000;
	border-color: #darkgrey;
}

legend.scheduler-border {
	font-size: 1.0em !important;
	text-align: left !important;
	width: inherit;
	padding: 0 10px;
	border-bottom: none;
	color: darkgray;
}

.clsDatePicker {
	z-index: 100000;
}
</style>

<style>
.datepicker {
	z-index: 1151 !important;
}
</style>
